<!DOCTYPE html>
<html lang="en">
  <head>
  <!-- Global site tag (gtag.js) - Google Analytics -->


  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

  <title>Recursive </title>
  <meta property="og:title" content="Recursive ">
  <meta property="twitter:title" content="Recursive ">

  <meta name="author" content="Recursive">
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://localhost:4000">
  <meta property="twitter:url" content="http://localhost:4000">
  <meta property="twitter:card" content="summary_large_image">
  

  
  <meta name="description" content="Lorem ipsum dolor sit amet">
  <meta property="twitter:description" content="Lorem ipsum dolor sit amet">
  <meta property="og:description" content="Lorem ipsum dolor sit amet">
  

  
  <meta property="og:image" content="">
  <meta property="twitter:image" content="">
  

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css">
  <link rel="stylesheet" href="/css/main.css">
</head>

  <body>
    <div id="weightForIt" class="container container-sm py-5 module" style="overflow:inherit">
    <div id="canvas">
        <div id="dollars">
        </div>
        <div class="label">XPRN</div>
        <!-- <div class="label" id="xprnLabel1">0.65</div> -->
        <!-- <div class="label" id="xprnLabel2">0.65</div> -->
        <div id="xAxis">
            <div class="float-left">864</div><div class="float-right">864</div>
        </div>
        <div id="yAxis">
            <div>864</div><div>864</div>
        </div>
    </div>
    <div class="label-bottom clearfix">
        <div class="float-left">Weight:300</div><div class="float-left" style="margin-left:800px">900</div>
    </div>
</div>

<script type="text/javascript">
document.getElementById("canvas").onmousemove = function(e){
    let bounds = document.getElementById("dollars").getBoundingClientRect();
    // console.log(bounds);
    let newX = interpolate(e.clientX, bounds.left, bounds.right, 0, bounds.width);
    let newY = interpolate(e.clientY, bounds.top, bounds.bottom, 0, bounds.height);
    
    
    let xPos = interpolate(e.clientX, bounds.left, bounds.right, 0, document.getElementById("dollars").clientWidth);
    let yPos = interpolate(e.clientY, bounds.top, bounds.bottom, 0, document.getElementById("dollars").clientHeight);
    // let xAxisLabel = interpolate(newX, bounds.left, bounds.right, 300, 900);
    let yAxisLabel = interpolate(newY, bounds.top, bounds.bottom, 0, 1);
    // console.log(xAxisLabel, yAxisLabel);
    console.log(newX, yAxisLabel);
    document.getElementById("yAxis").style.left = xPos + "px";
    document.getElementById("yAxis").innerHTML = "<div>"+Math.floor(newX)+"</div><div>"+Math.floor(newX)+"</div>";
    document.getElementById("xAxis").style.top = yPos + "px";
    document.getElementById("xAxis").innerHTML = '<div class="float-left">'+yAxisLabel.toFixed(2)+'</div><div class="float-right">'+yAxisLabel.toFixed(2)+'</div>';

    // let fontVariationSettings = "font-variation-settings: 'XPRN' " + xAxisLabel.toFixed(2);

    if (enableHandler == true) {
        if (yPos < 400 && yPos > 60 && xPos < 933 && xPos > 60 ){
            document.getElementById("dollars").innerHTML += `<div class='dollar' style='top: ${newY}px; left:${xPos}px; font-variation-settings: "XPRN" ${yAxisLabel.toFixed(2)}, "wght" ${Math.floor(newX)}'>$</div>`;
        }
        enableHandler = false;
    } 

}

window.setInterval(function(){
    enableHandler = true;
}, 100);

function interpolate(value, low1, high1, low2, high2) {
    return low2 + (high2 - low2) * (value - low1) / (high1 - low1);
}
</script>
  </body>
</html>
